<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detect Skipped Inputs</title>
    <style>
        .error {
            color: red;
            font-size: 14px;
            display: none;
        }
    </style>
</head>
<body>
    <form id="myForm">
        <label for="input1">Field 1:</label>
        <input type="text" id="input1" class="inputField" tabindex="1">
        <span class="error" id="error1">Field 1 is required!</span>
        <br>

        <label for="input2">Field 2:</label>
        <input type="text" id="input2" class="inputField" tabindex="2">
        <span class="error" id="error2">Field 2 is required!</span>
        <br>

        <label for="input3">Field 3:</label>
        <input type="text" id="input3" class="inputField" tabindex="3">
        <span class="error" id="error3">Field 3 is required!</span>
        <br>

        <button type="submit" disabled>Submit</button>
    </form>

    <script>
        const inputFields = document.querySelectorAll(".inputField");
        const submitButton = document.querySelector("button");
        let lastFocusedTabIndex = 0; // Track last focused input

        inputFields.forEach((input, index) => {
            const tabIndex = parseInt(input.getAttribute("tabindex"));
            const errorMessage = document.getElementById(`error${index + 1}`);

            // When input is focused, track its tabindex
            input.addEventListener("focus", function() {
                lastFocusedTabIndex = tabIndex;
            });

            // When input loses focus (blur event)
            input.addEventListener("blur", function() {
                if (!input.value.trim()) { // If left empty, show error
                    errorMessage.style.display = "inline";
                } else {
                    errorMessage.style.display = "none";
                }
                checkAllInputs();
            });

            // Detect skipping: If next field is focused without touching this one
            input.addEventListener("keydown", function(event) {
                if (event.key === "Tab") {
                    const nextTabIndex = tabIndex + 1;
                    const nextInput = document.querySelector(`[tabindex="${nextTabIndex}"]`);

                    if (nextInput && lastFocusedTabIndex < nextTabIndex && !input.value.trim()) {
                        errorMessage.style.display = "inline";
                    }
                }
            });
        });

        function checkAllInputs() {
            const allFilled = [...inputFields].every(input => input.value.trim() !== "");
            submitButton.disabled = !allFilled;
        }
    </script>
</body>
</html>
